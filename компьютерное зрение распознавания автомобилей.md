Давайте напишем пример кода для тестирования системы сбора данных о транспортных средствах. Мы создадим простой скрипт на Python, который будет использовать библиотеку OpenCV для обработки видео и распознавания объектов (в данном случае, автомобилей). Также будем использовать библиотеку `unittest` для тестирования функциональности.

### Пример кода: Система распознавания автомобилей

#### 1. Установка необходимых библиотек

Перед запуском кода убедитесь, что у вас установлены необходимые библиотеки. Вы можете установить их с помощью pip:

```bash
pip install opencv-python opencv-python-headless numpy
```

#### 2. Код системы

```python
import cv2
import numpy as np

class VehicleRecognizer:
    def __init__(self, cascade_path):
        self.cascade = cv2.CascadeClassifier(cascade_path)

    def recognize_vehicles(self, frame):
        gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)
        vehicles = self.cascade.detectMultiScale(gray_frame, 1.1, 1)
        return vehicles

    def draw_boxes(self, frame, vehicles):
        for (x, y, w, h) in vehicles:
            cv2.rectangle(frame, (x, y), (x + w, y + h), (255, 0, 0), 2)
        return frame

# Пример использования
def main():
    # Путь к файлу каскада (например, haarcascade_car.xml)
    cascade_path = 'path/to/haarcascade_car.xml'
    
    # Создание экземпляра распознавателя
    vehicle_recognizer = VehicleRecognizer(cascade_path)

    # Открытие видеопотока (можно использовать '0' для веб-камеры)
    cap = cv2.VideoCapture('path/to/video.mp4')  # Замените на '0', чтобы использовать веб-камеру

    while cap.isOpened():
        ret, frame = cap.read()
        if not ret:
            break

        vehicles = vehicle_recognizer.recognize_vehicles(frame)
        frame_with_boxes = vehicle_recognizer.draw_boxes(frame, vehicles)

        cv2.imshow('Vehicle Recognition', frame_with_boxes)
        
        if cv2.waitKey(1) & 0xFF == ord('q'):  # Нажмите 'q' для выхода
            break

    cap.release()
    cv2.destroyAllWindows()

if __name__ == '__main__':
    main()
```

#### 3. Тестирование

Теперь создадим тесты для проверки функциональности нашей системы.

```python
import unittest

class TestVehicleRecognizer(unittest.TestCase):

    def setUp(self):
        self.recognizer = VehicleRecognizer('path/to/haarcascade_car.xml')

    def test_recognize_vehicles(self):
        # Создаем фейковый кадр (например, пустой кадр)
        empty_frame = np.zeros((480, 640, 3), dtype=np.uint8)
        
        # Должен вернуть пустой список, так как на кадре нет автомобилей
        vehicles = self.recognizer.recognize_vehicles(empty_frame)
        self.assertEqual(len(vehicles), 0)

    def test_draw_boxes(self):
        # Создаем фейковый кадр с автомобилем
        frame = np.zeros((480, 640, 3), dtype=np.uint8)
        vehicles = [(100, 100, 50, 50)]  # Пример координат (x, y, w, h)
        
        frame_with_boxes = self.recognizer.draw_boxes(frame, vehicles)
        
        # Проверяем, что на кадре нарисован прямоугольник
        self.assertTrue(np.any(frame_with_boxes[100:150, 100:150] > 0))

if __name__ == '__main__':
    unittest.main()
```

### Объяснение кода

- **VehicleRecognizer**: Класс, который инициализирует классификатор для распознавания автомобилей и содержит методы для распознавания и отрисовки рамок вокруг автомобилей.
- **main()**: Основная функция, открывающая видеопоток и применяющая распознавание автомобилей.
- **TestVehicleRecognizer**: Класс для тестирования методов распознавания и отрисовки рамок с использованием библиотеки `unittest`.

### Запуск тестов

Чтобы запустить тесты, просто выполните команду:

```bash
python -m unittest <имя_файла_с_тестами>.py
```

Этот код и тесты дают базовое представление о том, как можно реализовать и протестировать систему сбора данных о транспортных средствах. Если остались вопросы или нужно что-то подробнее, дайте знать!
